{% set theme_config = attribute(config.themes, config.system.pages.theme) %}
<!DOCTYPE html>
<html lang="{{ grav.language.getLanguage ?: 'en' }}">
	<head>
		{% block head %}
			<meta charset="utf-8"/>
			<title>
				{% if header.title %}
					{{ header.title|e('html') }}
					|
				{% endif %}
				{{ site.title|e('html') }}</title>
			{% include 'partials/metadata.html.twig' %}
			<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
			<link rel="icon" type="image/png" href="{{ url('theme://images/favicon.png') }}"/>
			<link rel="canonical" href="{{ page.url(true, true) }}"/>

			{% block stylesheets %}
				{% do assets.addCss('theme://css/style.css') %}
			{% endblock %}
			{{ assets.css() }}

		{% endblock head %}
	</head>
	<body id="top" class="{{ page.header.body_classes }}">
		{% block header %}
			{% include 'partials/header.html.twig' %}
		{% endblock %}

		{% block body %}
			<main id="main" class="{{ class }}">
				{% block content %}{% endblock %}
			</main>
		{% endblock %}

		{% block footer %}
			<footer id='site-footer'></footer>
		{% endblock %}
		{% block bottom %}
			{% do assets.addJs('theme://js/base.js', {'priority': 100, 'loading':'defer', 'group':'bottom'}) %}
		{% endblock %}
		{{assets.js('bottom')}}
	</body>
</html>
